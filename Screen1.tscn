[gd_scene load_steps=12 format=2]

[ext_resource path="res://assets/textures/TexturesCom_SoilCracked0140_1_seamless_S.jpg" type="Texture" id=1]
[ext_resource path="res://scripts/Suspension-Controls.gd" type="Script" id=2]
[ext_resource path="res://scripts/Camera.gd" type="Script" id=3]
[ext_resource path="res://assets/textures/TexturesCom_Asphalt_1x1_512_albedo.png" type="Texture" id=4]
[ext_resource path="res://Car2.tscn" type="PackedScene" id=5]
[ext_resource path="res://scripts/Car.gd" type="Script" id=6]

[sub_resource type="ConvexPolygonShape" id=6]
points = PoolVector3Array( -100, -0.1, -100, 100, -0.1, -100, 100, -0.1, 100, -100, -0.1, 100 )

[sub_resource type="PlaneMesh" id=2]
size = Vector2( 1, 1 )
subdivide_width = 100
subdivide_depth = 100

[sub_resource type="SpatialMaterial" id=3]
albedo_texture = ExtResource( 1 )
uv1_scale = Vector3( 670, 600, 220 )

[sub_resource type="Curve3D" id=4]
_data = {
"points": PoolVector3Array( 0, 0, 0, 0, 0, 0, -0.151871, 0, 6.22618, -0.253914, 0, -8.8368, 0.253914, 0, 8.8368, -6.3484, 0, 25.9923, -15.8983, 0, -4.90688, 15.8983, 0, 4.90688, 9.54986, 0, 37.7688, 1.53874, 0, 32.2062, -1.53874, 0, -32.2062, 44.5195, 2.26978, 24.0203, 6.15938, 0, 16.2384, -6.15938, 0, -16.2384, 30.085, 3.16415, -8.37165, 2.55157, 0, 12.169, -2.55157, 0, -12.169, 39.7764, 1.86574, -36.0711, 0, 0, 0, 0, 0, 0, 25.2519, 0, -46.2368, 13.9355, 0, 6.47707, -13.9355, 0, -6.47707, -8.31114, 0, -47.4145, 0, 0, 0, 0, 0, 0, -34.2194, 0, -40.9374, 6.67334, 0, -3.53295, -6.67334, 0, 3.53295, -45.9959, 0, -30.9274, -2.15902, 0, -8.43982, 2.15902, 0, 8.43982, -44.8183, 0, -9.33715, -7.0659, 0, 4.12177, 7.0659, 0, -4.12177, -31.2753, 0, 3.617, -22.7679, 0, 9.61746, 22.7679, 0, -9.61746, -11.2553, 0, -22.8801, 0, 0, 0, 0, 0, 0, -0.151871, 0, 6.22618 ),
"tilts": PoolRealArray( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 )
}

[sub_resource type="SpatialMaterial" id=5]
albedo_color = Color( 0.304957, 0.320312, 0.301544, 1 )
albedo_texture = ExtResource( 4 )
metallic_specular = 0.0
metallic_texture = ExtResource( 4 )
uv1_scale = Vector3( 0.6, 0.6, 0.5 )
uv2_scale = Vector3( 5, 5, 5 )

[node name="Spatial" type="Spatial"]

[node name="StaticBody" type="StaticBody" parent="."]

[node name="CollisionShape" type="CollisionShape" parent="StaticBody"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.1, 0 )
shape = SubResource( 6 )

[node name="MeshInstance" type="MeshInstance" parent="StaticBody/CollisionShape"]
transform = Transform( 1000, 0, 0, 0, 1, 0, 0, 0, 1000, 0, -0.1, 0 )
mesh = SubResource( 2 )
material/0 = SubResource( 3 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( -0.445837, -0.849757, 0.281321, 0.857654, -0.315565, 0.406014, -0.256238, 0.422293, 0.869489, -1.58408, 1.695, -0.0203364 )
light_energy = 1.69
light_indirect_energy = 2.32
shadow_enabled = true

[node name="Camera" type="Camera" parent="."]
transform = Transform( 0.770802, 0, 0.637074, 0, 1, 0, -0.637074, 0, 0.770802, 9.28213, 1.38377, 3.75293 )
fov = 75.0
size = 5.0
script = ExtResource( 3 )
follow_this_path = NodePath("../Car2")
target_distance = 6.5

[node name="Spatial" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.159424, 0 )

[node name="Path" type="Path" parent="Spatial"]
curve = SubResource( 4 )

[node name="Road" type="CSGPolygon" parent="Spatial/Path"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.104652, -0.024559, -0.0419006 )
use_collision = true
invert_faces = true
polygon = PoolVector2Array( -4.5, 0, -4.5, 0, 4.5, 0.1, 4.5, 0.1 )
mode = 2
path_node = NodePath("..")
path_interval = 1.0
path_rotation = 2
path_local = false
path_continuous_u = false
path_joined = true
material = SubResource( 5 )

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Damping-compression" type="HSlider" parent="CanvasLayer"]
visible = false
margin_right = 278.0
margin_bottom = 16.0
max_value = 1000.0
script = ExtResource( 2 )
__meta__ = {
"_edit_use_anchors_": false
}
Car = NodePath("../../Car2")
Variable = "damping_compression"
divide = 1000

[node name="Damping-relaxation" type="HSlider" parent="CanvasLayer"]
visible = false
margin_left = 1.0
margin_top = 24.0
margin_right = 279.0
margin_bottom = 40.0
max_value = 1000.0
script = ExtResource( 2 )
__meta__ = {
"_edit_use_anchors_": false
}
Car = NodePath("../../Car2")
Variable = "damping_relaxation"
divide = 1000

[node name="Rest-Length" type="HSlider" parent="CanvasLayer"]
visible = false
margin_top = 48.0
margin_right = 278.0
margin_bottom = 64.0
max_value = 5000.0
script = ExtResource( 2 )
__meta__ = {
"_edit_use_anchors_": false
}
Variable = "wheel_rest_length"
divide = 1000

[node name="Suspension-Travel" type="HSlider" parent="CanvasLayer"]
visible = false
margin_top = 80.0
margin_right = 278.0
margin_bottom = 96.0
max_value = 5000.0
script = ExtResource( 2 )
__meta__ = {
"_edit_use_anchors_": false
}
Car = NodePath("../../Car2")
Variable = "suspension_travel"
divide = 1000

[node name="Suspension-Stiffness" type="HSlider" parent="CanvasLayer"]
visible = false
margin_top = 104.0
margin_right = 278.0
margin_bottom = 120.0
max_value = 200.0
script = ExtResource( 2 )
__meta__ = {
"_edit_use_anchors_": false
}
Car = NodePath("../../Car2")
Variable = "suspension_stiffness"

[node name="Suspension-MaxForce" type="HSlider" parent="CanvasLayer"]
visible = false
margin_left = 1.0
margin_top = 127.0
margin_right = 279.0
margin_bottom = 143.0
max_value = 10000.0
script = ExtResource( 2 )
__meta__ = {
"_edit_use_anchors_": false
}
Car = NodePath("../../Car2")
Variable = "suspension_max_force"

[node name="Label" type="Label" parent="CanvasLayer"]
visible = false
margin_left = 302.0
margin_top = 3.0
margin_right = 450.0
margin_bottom = 34.0
rect_pivot_offset = Vector2( 109, 15.5 )
custom_colors/font_color = Color( 0.694118, 0.329412, 0.180392, 1 )
text = "Damping Compression"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label2" type="Label" parent="CanvasLayer"]
visible = false
margin_left = 302.0
margin_top = 27.0
margin_right = 450.0
margin_bottom = 58.0
rect_pivot_offset = Vector2( 109, 15.5 )
custom_colors/font_color = Color( 0.694118, 0.329412, 0.180392, 1 )
text = "Damping Relaxation"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label3" type="Label" parent="CanvasLayer"]
visible = false
margin_left = 303.0
margin_top = 48.0
margin_right = 451.0
margin_bottom = 79.0
rect_pivot_offset = Vector2( 109, 15.5 )
custom_colors/font_color = Color( 0.694118, 0.329412, 0.180392, 1 )
text = "Rest Length"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label4" type="Label" parent="CanvasLayer"]
visible = false
margin_left = 304.0
margin_top = 78.0
margin_right = 452.0
margin_bottom = 109.0
rect_pivot_offset = Vector2( 109, 15.5 )
custom_colors/font_color = Color( 0.694118, 0.329412, 0.180392, 1 )
text = "Travel"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label5" type="Label" parent="CanvasLayer"]
visible = false
margin_left = 304.0
margin_top = 105.0
margin_right = 452.0
margin_bottom = 136.0
rect_pivot_offset = Vector2( 109, 15.5 )
custom_colors/font_color = Color( 0.694118, 0.329412, 0.180392, 1 )
text = "Stiffness"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label6" type="Label" parent="CanvasLayer"]
visible = false
margin_left = 304.0
margin_top = 129.0
margin_right = 452.0
margin_bottom = 160.0
rect_pivot_offset = Vector2( 109, 15.5 )
custom_colors/font_color = Color( 0.694118, 0.329412, 0.180392, 1 )
text = "Max Force"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Car2" parent="." instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.95442, 0.294149, 0 )
script = ExtResource( 6 )
[connection signal="value_changed" from="CanvasLayer/Damping-compression" to="CanvasLayer/Damping-compression" method="_on_value_changed"]
[connection signal="value_changed" from="CanvasLayer/Damping-relaxation" to="CanvasLayer/Damping-relaxation" method="_on_value_changed"]
[connection signal="value_changed" from="CanvasLayer/Rest-Length" to="CanvasLayer/Rest-Length" method="_on_value_changed"]
[connection signal="value_changed" from="CanvasLayer/Suspension-Travel" to="CanvasLayer/Suspension-Travel" method="_on_value_changed"]
[connection signal="value_changed" from="CanvasLayer/Suspension-Stiffness" to="CanvasLayer/Suspension-Stiffness" method="_on_value_changed"]
[connection signal="value_changed" from="CanvasLayer/Suspension-MaxForce" to="CanvasLayer/Suspension-MaxForce" method="_on_value_changed"]
